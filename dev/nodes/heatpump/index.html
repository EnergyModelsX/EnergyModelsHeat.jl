<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>HeatPump · EnergyModelsHeat</title><meta name="title" content="HeatPump · EnergyModelsHeat"/><meta property="og:title" content="HeatPump · EnergyModelsHeat"/><meta property="twitter:title" content="HeatPump · EnergyModelsHeat"/><meta name="description" content="Documentation for EnergyModelsHeat."/><meta property="og:description" content="Documentation for EnergyModelsHeat."/><meta property="twitter:description" content="Documentation for EnergyModelsHeat."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyModelsHeat</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../../manual/simple-example/">Examples</a></li><li><a class="tocitem" href="../../manual/NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">Resources</span><ul><li><a class="tocitem" href="../../resources/resourceheat/">ResourceHeat</a></li></ul></li><li><span class="tocitem">Links</span><ul><li><a class="tocitem" href="../../links/dhpipe/">DHPipe</a></li></ul></li><li><span class="tocitem">Nodes</span><ul><li class="is-active"><a class="tocitem" href>HeatPump</a><ul class="internal"><li><a class="tocitem" href="#nodes-HeatPump-fields"><span>Introduced type and its fields</span></a></li><li><a class="tocitem" href="#nodes-HeatPump-math"><span>Mathematical description</span></a></li></ul></li><li><a class="tocitem" href="../thermalenergystorage/">ThermalEnergyStorage</a></li><li><a class="tocitem" href="../heatexchanger/">HeatExchanger</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../howto/simple_conversion/">Use surplus heat for DH</a></li><li><a class="tocitem" href="../../howto/contribute/">Contribute to EnergyModelsHeat</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../library/public/">Public</a></li><li><input class="collapse-toggle" id="menuitem-7-2" type="checkbox"/><label class="tocitem" for="menuitem-7-2"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/internals/types-EMH/">Types</a></li><li><a class="tocitem" href="../../library/internals/methods-fields/">Methods - Accessing fields</a></li><li><a class="tocitem" href="../../library/internals/methods-EMH/">Methods - <code>EnergyModelsHeat</code></a></li><li><a class="tocitem" href="../../library/internals/methods-EMB/">Methods - <code>EnergyModelsBase</code></a></li></ul></li></ul></li><li><span class="tocitem">Background</span><ul><li><a class="tocitem" href="../../background/background/">Heat exchanger</a></li><li><a class="tocitem" href="../../background/bio_chp/">Bio CHP</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Nodes</a></li><li class="is-active"><a href>HeatPump</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>HeatPump</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsHeat.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsHeat.jl/blob/main/docs/src/nodes/heatpump.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="nodes-HeatPump"><a class="docs-heading-anchor" href="#nodes-HeatPump">HeatPump</a><a id="nodes-HeatPump-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-HeatPump" title="Permalink"></a></h1><p>The <a href="../../library/public/#EnergyModelsHeat.HeatPump"><code>HeatPump</code></a> node models a technology that converts low-temperature heat into higher-temperature heat using an exergy driving force. The most common form of exergy driving force is electricity, but the same node could be used to model heat-driven heat pumps, where the exergy input comes in the form of high temperature heat. For simplicity, the term &quot;electricity&quot; is used to represent the exergy driving force in the following. The <a href="../../library/public/#EnergyModelsHeat.HeatPump"><code>HeatPump</code></a> node supports dynamic coefficients of performance (COP) based on the source and sink temperatures and Carnot efficiency. The Carnot efficiency describes the ratio of the theoretical maximum achievable COP (Carnot COP), which is based solely on the temperature lift between the source and sink temperature, and the actual COP. This allows for a straightforward calculation of the relation between heat and electricity input. While the Carnot efficiency in practice depends on several factors beyond the source and sink temperatures and is typically not constant across all operating conditions, it is provided here as an exogenous parameter by the user in the form of a <code>TimeProfile</code>. The user can analyze the sink and source temperature profiles and can predetermine a theoretical Carnot efficiency profile based on that. A lower capacity bound can be defined, restricting how much the heat pump can be regulated down.</p><h2 id="nodes-HeatPump-fields"><a class="docs-heading-anchor" href="#nodes-HeatPump-fields">Introduced type and its fields</a><a id="nodes-HeatPump-fields-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-HeatPump-fields" title="Permalink"></a></h2><p>The <a href="../../library/public/#EnergyModelsHeat.HeatPump"><code>HeatPump</code></a> is a subtype of the <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/nodes/#EnergyModelsBase.NetworkNode"><code>NetworkNode</code></a>. It uses the same functions as <code>NetworkNode</code> in <code>EnergyModelsBase</code>.</p><h3 id="nodes-HeatPump-fields-stand"><a class="docs-heading-anchor" href="#nodes-HeatPump-fields-stand">Standard fields</a><a id="nodes-HeatPump-fields-stand-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-HeatPump-fields-stand" title="Permalink"></a></h3><ul><li><p><strong><code>id</code></strong>:<br/>The field <code>id</code> is only used for providing a name to the node. This is similar to the approach utilized in <code>EnergyModelsBase</code>.</p></li><li><p><strong><code>cap::TimeProfile</code></strong>:<br/>Specifies the installed heating capacity, that is the heat the heat pump can deliver.<br/>If the node should contain investments through the application of <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/stable/"><code>EnergyModelsInvestments</code></a>, it is important to note that you can only use <code>FixedProfile</code> or <code>StrategicProfile</code> for the capacity, but not <code>RepresentativeProfile</code> or <code>OperationalProfile</code>.<br/>In addition, all values have to be non-negative.</p></li><li><p><strong><code>opex_var::TimeProfile</code></strong>:<br/>The variable operational expenses are based on the capacity utilization through the variable <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var-cap"><code>:cap_use</code></a>. Hence, it is directly related to the specified <code>output</code> ratios. The variable operating expenses can be provided as <code>OperationalProfile</code> as well.</p></li><li><p><strong><code>opex_fixed::TimeProfile</code></strong>:<br/>The fixed operating expenses are relative to the installed capacity (through the field <code>cap</code>) and the chosen duration of a strategic period as outlined on <em><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/how-to/utilize-timestruct/#how_to-utilize_TS">Utilize <code>TimeStruct</code></a></em>.<br/>It is important to note that you can only use <code>FixedProfile</code> or <code>StrategicProfile</code> for the fixed OPEX, but not <code>RepresentativeProfile</code> or <code>OperationalProfile</code>. In addition, all values have to be non-negative.</p></li><li><p><strong><code>output::Dict{&lt;:Resource, &lt;:Real}</code></strong>:<br/>The field <code>output</code> includes the output <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/resources/#EnergyModelsBase.Resource"><code>Resource</code></a>s with their corresponding conversion factors as dictionaries. In the case of a heat pump, <code>output</code> should always include the <em>heat</em> resource used within the energy system. The value of the <em>heat</em> resource is in general 1. It is also possible to include other resources which are produced with a given correlation with the heat.<br/>All values have to be non-negative.</p></li><li><p><strong><code>data::Vector{&lt;:ExtensionData}</code></strong>:<br/>An entry for providing additional data to the model. In the current version, it is only relevant for additional investment data when <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/"><code>EnergyModelsInvestments</code></a> is used or for additional emission data through <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/model_data/#EnergyModelsBase.EmissionsProcess"><code>EmissionsProcess</code></a>. The latter would correspond to uncaptured CO₂ that should be included in the analyses.</p><div class="admonition is-info" id="Note-b92262f5582442d6"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-b92262f5582442d6" title="Permalink"></a></header><div class="admonition-body"><p>The field <code>data</code> is not required as we include a constructor when the value is excluded.</p></div></div></li></ul><h3 id="nodes-HeatPump-fields-new"><a class="docs-heading-anchor" href="#nodes-HeatPump-fields-new">New fields</a><a id="nodes-HeatPump-fields-new-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-HeatPump-fields-new" title="Permalink"></a></h3><ul><li><p><strong><code>cap_lower_bound::Real</code></strong>:<br/>The lower bound for the capacity is the minimum operating point of the <code>HeatPump</code>. It can be included for limiting the flexibility of the heat pump.</p><div class="admonition is-warning" id="Lower-capacity-bound-cbf0c10cc704884a"><header class="admonition-header">Lower capacity bound<a class="admonition-anchor" href="#Lower-capacity-bound-cbf0c10cc704884a" title="Permalink"></a></header><div class="admonition-body"><p>The current implementation requires that the heat pump operates in all operational periods if <code>cap_lower_bound &gt; 0</code>.</p></div></div></li><li><p><strong><code>t_source::TimeProfile</code></strong>:<br/>The source temperature is the temperature of the source in °C. This temperature represents the temperature at which the heat pump absorbs heat, <em>e.g.</em>, the air temperature. The used heat is given by the field <code>input_heat</code>.</p></li><li><p><strong><code>t_sink::TimeProfile</code></strong>:<br/>The sink temperature is the temperature at which the heat pump delivers heat in °C. It is directly related to the temperature of the <code>output</code> resource corresponding to heat.</p></li><li><p><strong><code>eff_carnot::TimeProfile</code></strong>:<br/>The Carnot efficiency is the ratio bnbetween the real and the Carnot COP, and hence, the relation between the maximum theoretical efficiency and the real efficiency of the heat pump. The effective Carnot efficiency depends on the specific heat pump model as well as its operational conditions.</p><div class="admonition is-info" id="Usage-dependent-efficiencies-e14e855c8b1ec19b"><header class="admonition-header">Usage dependent efficiencies<a class="admonition-anchor" href="#Usage-dependent-efficiencies-e14e855c8b1ec19b" title="Permalink"></a></header><div class="admonition-body"><p>The capacity use cannot be included as an influencing factor on the Carnot efficiency as it is implemented as an optimization variable. This would then result in a bilinear term of a piecewise linear representation and a continuous variable. However, the user can utilize the known temperature lifts to adjust the Carnot efficiency profile according to the technical specifications of the heat pump.</p></div></div></li><li><p><strong><code>input_heat::Resource</code></strong>:<br/>The heat input resource corresponds to the lower temperature heat reservoir from which heat is transfered to a higher temperature. In most approaches, the input_heat is corresponding to the surrounding (<em>e.g.</em>, the air), but it can also correspond to a lower temperature water stream.</p></li><li><p><strong><code>driving_force:Resource</code></strong>:<br/>The driving force resource provides the energy for transfering the heat from the lower temperature (given by <code>t_source</code>) to the higher temperature (given by <code>t_sink</code>). The driving force is in general electricity.</p></li></ul><h2 id="nodes-HeatPump-math"><a class="docs-heading-anchor" href="#nodes-HeatPump-math">Mathematical description</a><a id="nodes-HeatPump-math-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-HeatPump-math" title="Permalink"></a></h2><p>In the following mathematical equations, we use the name for variables and functions used in the model. Variables are in general represented as</p><p><span>$\texttt{var\_example}[index_1, index_2]$</span></p><p>with square brackets, while functions are represented as</p><p><span>$func\_example(index_1, index_2)$</span></p><p>with paranthesis.</p><h3 id="nodes-HeatPump-math-var"><a class="docs-heading-anchor" href="#nodes-HeatPump-math-var">Variables</a><a id="nodes-HeatPump-math-var-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-HeatPump-math-var" title="Permalink"></a></h3><p>The <a href="../../library/public/#EnergyModelsHeat.HeatPump"><code>HeatPump</code></a> node uses standard <code>NetworkNode</code> variables, as described on the page <em><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var">Optimization variables</a></em>. The variables include:</p><ul><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var-opex"><span>$\texttt{opex\_var}$</span></a></li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var-opex"><span>$\texttt{opex\_fixed}$</span></a></li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var-cap"><span>$\texttt{cap\_use}$</span></a></li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var-cap"><span>$\texttt{cap\_inst}$</span></a></li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var-flow"><span>$\texttt{flow\_in}$</span></a></li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var-flow"><span>$\texttt{flow\_out}$</span></a></li></ul><h3 id="nodes-HeatPump-math-con"><a class="docs-heading-anchor" href="#nodes-HeatPump-math-con">Constraints</a><a id="nodes-HeatPump-math-con-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-HeatPump-math-con" title="Permalink"></a></h3><p>The following sections omit the direct inclusion of the vector of heat pump nodes. Instead, it is implicitly assumed that the constraints are valid <span>$\forall n ∈ N^{HeatPump}$</span> for all <a href="../../library/public/#EnergyModelsHeat.HeatPump"><code>HeatPump</code></a> types if not stated differently. In addition, all constraints are valid <span>$\forall t \in T$</span> (that is in all operational periods) or <span>$\forall t_{inv} \in T^{Inv}$</span> (that is in all strategic periods).</p><h4 id="nodes-HeatPump-math-con-stand"><a class="docs-heading-anchor" href="#nodes-HeatPump-math-con-stand">Standard constraints</a><a id="nodes-HeatPump-math-con-stand-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-HeatPump-math-con-stand" title="Permalink"></a></h4><p>Heat pump nodes utilize in general the standard constraints described on <em><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/constraint-functions/#man-con">Constraint functions</a></em> for <code>NetworkNode</code>s. These standard constraints are:</p><ul><li><p><code>constraints_capacity_installed</code>:</p><p class="math-container">\[\texttt{cap\_inst}[n, t] = capacity(n, t)\]</p><div class="admonition is-success" id="Using-investments-ae4520358f64c987"><header class="admonition-header">Using investments<a class="admonition-anchor" href="#Using-investments-ae4520358f64c987" title="Permalink"></a></header><div class="admonition-body"><p>The function <code>constraints_capacity_installed</code> is also used in <a href="https://energymodelsx.github.io/EnergyModelsInvestments.jl/"><code>EnergyModelsInvestments</code></a> to incorporate the potential for investment. Nodes with investments are then no longer constrained by the parameter capacity.</p></div></div></li><li><p><code>constraints_flow_out</code>:</p><p class="math-container">\[\texttt{flow\_out}[n, t, p] =
outputs(n, p) \times \texttt{cap\_use}[n, t]
\qquad \forall p \in outputs(n) \setminus \{\text{CO}_2\}\]</p></li><li><p><code>constraints_opex_fixed</code>:</p><p class="math-container">\[\texttt{opex\_fixed}[n, t_{inv}] = opex\_fixed(n, t_{inv}) \times \texttt{cap\_inst}[n, first(t_{inv})]\]</p><div class="admonition is-success" id="Why-do-we-use-first()-de98789ddea2e72c"><header class="admonition-header">Why do we use `first()`<a class="admonition-anchor" href="#Why-do-we-use-first()-de98789ddea2e72c" title="Permalink"></a></header><div class="admonition-body"><p>The variable <span>$\texttt{cap\_inst}$</span> is declared over all operational periods (see the section on <em><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var-cap">Capacity variables</a></em> for further explanations). Hence, we use the function <span>$first(t_{inv})$</span> to retrieve the installed capacity in the first operational period of a given strategic period <span>$t_{inv}$</span> in the function <code>constraints_opex_fixed</code>.</p></div></div></li><li><p><code>constraints_opex_var</code>:</p><p class="math-container">\[\texttt{opex\_var}[n, t_{inv}] = \sum_{t \in t_{inv}} opex\_var(n, t) \times \texttt{cap\_use}[n, t] \times scale\_op\_sp(t_{inv}, t)\]</p><div class="admonition is-success" id="The-function-scale_op_sp-f6170425111d90e2"><header class="admonition-header">The function `scale_op_sp`<a class="admonition-anchor" href="#The-function-scale_op_sp-f6170425111d90e2" title="Permalink"></a></header><div class="admonition-body"><p>The function <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/functions/#EnergyModelsBase.scale_op_sp"><span>$scale\_op\_sp(t_{inv}, t)$</span></a> calculates the scaling factor between operational and strategic periods. It also takes into account potential operational scenarios and their probability as well as representative periods.</p></div></div></li><li><p><code>constraints_ext_data</code>:<br/>This function is only called for specified data of the storage node, see above.</p></li></ul><p>The <code>constraints_capacity</code> function is extended by implementing the lower capacity bound to limit the lowest possible capacity use:</p><p class="math-container">\[\texttt{cap\_use}[n, t] \geq cap\_lower\_bound(n) \times \texttt{cap\_inst}[n, t]\]</p><p>The original constraints limiting the capacity to the installed capacity:</p><p class="math-container">\[\texttt{cap\_use}[n, t] \leq \texttt{cap\_inst}[n, t]\]</p><p>and calling the subfunction <code>constraints_capacity_installed</code> to provide bounds for the variable <span>$\texttt{cap\_inst}[n, t]$</span> are still called within the function.</p><p>The input flow constraint for a <a href="../../library/public/#EnergyModelsHeat.HeatPump"><code>HeatPump</code></a> node is calculated differently to a <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/nodes/#EnergyModelsBase.NetworkNode"><code>NetworkNode</code></a> as the relationship between <code>heat_in_resource</code> and <code>driving_force_resource</code> is reflecting the COP of the heat pump. Since the input resources are specified via the fields <code>heat_in_resource</code> and <code>driving_force_resource</code>, and the conversion factors are calculated seperately, the field <code>inputs</code> is not required. The determination of conversion factors is achieved by extending the <code>constraints_flow_in</code> function, separating the calculation for the input flow of heat source and driving force. All temperatures are specified in degree Celsius, so the values must be converted into Kelvin by adding 273.15 °C.</p><p>Given a heat resource <span>$p_{heat} = heat\_in\_resource(n)$</span>, we can calculate the heat input as:</p><p class="math-container">\[\begin{aligned}
\texttt{flow\_in}&amp;[n, t, p_{heat}] =
  \texttt{cap\_use}[n, t] \times  \\ &amp;
  \left( 1 - \frac{t\_sink(n, t) - t\_source(n, t)}{eff\_carnot(n,t) \times (t\_sink(n, t) + 273.15)} \right)
\end{aligned}\]</p><p>The input for the <span>$p_{df} = driving\_force\_resource(n)$</span></p><p class="math-container">\[\begin{aligned}
\texttt{flow\_in}&amp;[n, t, p_{df}] =
  \texttt{cap\_use}[n, t] \times \\ &amp;
  \frac{t\_sink(n, t) - t\_source(n, t)}{eff\_carnot(n,t) \times (t\_sink(n, t) + 273.15)}
\end{aligned}\]</p><h4 id="nodes-HeatPump-math-con-add"><a class="docs-heading-anchor" href="#nodes-HeatPump-math-con-add">Additional constraints</a><a id="nodes-HeatPump-math-con-add-1"></a><a class="docs-heading-anchor-permalink" href="#nodes-HeatPump-math-con-add" title="Permalink"></a></h4><p><a href="../../library/public/#EnergyModelsHeat.HeatPump"><code>HeatPump</code></a> nodes do not add additional constraint functions or constraints in the <code>create_node</code> function.</p><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../links/dhpipe/">« DHPipe</a><a class="docs-footer-nextpage" href="../thermalenergystorage/">ThermalEnergyStorage »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 8 October 2025 07:58">Wednesday 8 October 2025</span>. Using Julia version 1.12.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
